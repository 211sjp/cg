\documentclass[a4paper,UTF8]{article}
\usepackage{ctex}
\usepackage[margin=1.25in]{geometry}
\usepackage{color}
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
%\usepackage[thmmarks, amsmath, thref]{ntheorem}
\theoremstyle{definition}
\newtheorem*{solution}{Solution}
\newtheorem*{prove}{Proof}
\usepackage{multirow}
\usepackage{url}
\usepackage[colorlinks,urlcolor=blue]{hyperref}
\usepackage{enumerate}
\renewcommand\refname{参考文献}
%--

%--
\begin{document}
\title{\textbf{《计算机图形学》 4月报告 }}
\author{学号，姓名，\href{mailto:xxx@xxx.com}{171240511@smail.nju.edu.cn}}
\maketitle

\section{综述}
在老师所给框架代码上进行修改完善,暂时只完成了画布重置,线段绘制、多边形绘制的算法部分和gui的线段绘制.

\section{算法介绍}
\subsection{绘制线段}
目前假定指令中两端点不等.\\
\indent DDA算法:基本思想是记下起点,然后让长的一边变量不断加一,短的一边则不断加斜率后取近似\cite{rog_2002}\\
\indent Bresenham算法:也是长的每次加一,但是短的一边则是累计再近似,因此精度更高.而因为采用了判断e符号的方法,可以转换成全整数计算,也更快速.\cite{rog_2002}\\
\indent 因为讲义中说不要求像素级一致,所以目前和伪代码一样只亮一边端点.
\subsection{绘制多边形}
直接调用线段绘制算法连点.\\
\indent 但是对于多边形绘制边的选择有点不确定,目前理解的是指令中的点是排好序的,都是邻边.
		
\section{系统介绍}
gui部分中目前仍按原始代码用QListWidget记录图元, 能鼠标控制两种算法绘制线段,
多边形的鼠标绘制尚未完成.\\
画笔颜色选择参考了http://code.py40.com/pyqt5/24.html\\
重置画布\\
原来的代码由于点击绘制线段和在画布上press mouse都会使id加1,因此图元编号并不连续,对此进行了修改.\\
\section{总结}
暂时防忘:
\indent 1.画布的宽是[0, width-1],高是[0, height-1]\\

\indent 2.gui中sys.exit(app.exec\_())改为app.exec\_(),自己手动退出,不然Spyder运行手动退出时会报错.
此外,还得加上del app,不然重新运行的时候也会有点问题.
参考https://stackoverflow.com/questions/10888045/simple-ipython-example-raises-exception-on-sys-exit\\

\indent 3.框架代码是鼠标一动就将MyItem中的图元绘制,
这导致绘制直线的时候直线随着拖动不断绘制,这包括了最开始端点重合的情况,
对于DDA会出现除0错误,因此要特判.\\

\indent 画笔颜色选择分两步,一个是会用QColorDialog调出调色版,另一个是要将画笔颜色传给MyItem,我选择用全局变量g\_penColor.\\

\bibliographystyle{plain}%
%"xxx" should be your citing file's name.
\bibliography{cgref}
\end{document}